<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>출입증</title>
<style>
:root { --main:#810707; }
body { background:#f5f5f5; padding:2rem; font-family:'Segoe UI'; text-align:center; }
h1 { color:var(--main); font-size:2rem; font-weight:800; margin-bottom:1rem; }
#card {
  background:#fff; border:3px solid var(--main);
  border-radius:20px; padding:2rem; max-width:600px; margin:auto;
  position:relative; text-align:left; font-size:1.2rem; line-height:2.1rem;
}
#circle {
  width:80px;height:80px;background:var(--main);
  border-radius:50%;position:absolute;right:2rem;top:2rem;
}
button {
  width:100%;max-width:600px;padding:1rem;margin-top:2rem;
  background:var(--main);color:#fff;border:none;border-radius:12px;
  font-size:1.3rem;
}
</style>
</head>
<body>

<h1>휴 일 출 입 증<br>GIẤY XÁC NHẬN VÀO TRƯỜNG</h1>

<div id="card">
  <div id="circle"></div>
  <p>학번: <span id="id"></span></p>
  <p>이름: <span id="name"></span></p>
  <p>날짜: <span id="date"></span></p>
  <p>사유: <span id="reason"></span></p>
  <p>지도교사: <span id="teacher"></span></p>
  <p>출입: <span id="entry"></span></p>
  <p>사용여부: <span id="use"></span></p>
</div>

<button onclick="alert('퇴실 시간 기록됨')">ĐI RA</button>

<script>
const key = new URLSearchParams(location.search).get("key");
const data = JSON.parse(localStorage.getItem(key));

if (!data) {
  document.body.innerHTML = "<h2>잘못된 QR 코드입니다.</h2>";
} else {
  document.getElementById("id").textContent = data.id;
  document.getElementById("name").textContent = data.name;
  document.getElementById("reason").textContent = data.reason;
  document.getElementById("teacher").textContent = data.teacher;
  document.getElementById("entry").textContent = data.entry;
  document.getElementById("use").textContent = data.use;
  document.getElementById("date").textContent = data.date;
}
</script>
</body>
</html>
